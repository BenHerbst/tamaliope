<xml xmlns="https://developers.google.com/blockly/xml"><comment id="`Yida+0i9~13LVzB1?@3" data="125" x="376" y="115" h="120" w="480">let _4digit = grove.createDisplay(DigitalPin.C16, DigitalPin.C17)</comment><comment id="{dbum7%VNbY9Kp`_ekfx" data="0" x="366" y="127" h="360" w="480">serial.writeLine("" + (`Welcome to Tamaliope - 0.01&#10;&#10;Write help or info.`))&#10;&#10;let flush = new tamaliope("Floush")&#10;&#10;let last_drink_pin_used_millis = 0&#10;&#10;lvl_check()&#10;&#10;basic.showString("Food:")&#10;&#10;basic.forever(function () {&#10;&#10;let multipile = 6000&#10;&#10;if (control.millis() - flush.last_food_need_millis &gt; 2 * multipile) {&#10;&#10;flush.last_food_need_millis = control.millis()&#10;&#10;flush.food_need -= 1&#10;&#10;}&#10;&#10;if (control.millis() - flush.last_drink_need_millis &gt; 1 * multipile) {&#10;&#10;flush.last_drink_need_millis = control.millis()&#10;&#10;flush.drink_need -= 1&#10;&#10;}&#10;&#10;if (control.millis() - flush.last_hygiene_need_millis &gt; 3 * multipile) {&#10;&#10;flush.last_hygiene_need_millis = control.millis()&#10;&#10;flush.hygiene_need -= 1&#10;&#10;}&#10;&#10;if (control.millis() - flush.last_medicine_need_millis &gt; 5 * multipile) {&#10;&#10;flush.last_medicine_need_millis = control.millis()&#10;&#10;flush.medicine_need -= 1&#10;&#10;}&#10;&#10;if (control.millis() - flush.last_play_need_millis &gt; 0.5 * multipile) {&#10;&#10;flush.last_play_need_millis = control.millis()&#10;&#10;flush.play_need -= 1&#10;&#10;}&#10;&#10;if (control.millis() - flush.last_used_millis &gt; 5 * 60000) {&#10;&#10;flush.last_used_millis = control.millis()&#10;&#10;lvl_check()&#10;&#10;}&#10;&#10;if (input.pinIsPressed(TouchPin.P2)) {&#10;&#10;if (control.millis() - last_drink_pin_used_millis &gt; 1000) {&#10;&#10;last_drink_pin_used_millis = control.millis()&#10;&#10;flush.drink_need += 2&#10;&#10;}&#10;&#10;}&#10;&#10;switch (current_mode) {&#10;&#10;case modes.FOOD:&#10;&#10;display_need(flush.food_need)&#10;&#10;break&#10;&#10;case modes.DRINK:&#10;&#10;display_need(flush.drink_need)&#10;&#10;break&#10;&#10;case modes.HYGIENE:&#10;&#10;display_need(flush.hygiene_need)&#10;&#10;break&#10;&#10;case modes.MEDICINE:&#10;&#10;display_need(flush.medicine_need)&#10;&#10;break&#10;&#10;case modes.PLAY:&#10;&#10;display_need(flush.play_need)&#10;&#10;break&#10;&#10;}&#10;&#10;})</comment><comment id="7LQ1+P-S?2N)J3%3b[DT" data="1" x="366" y="127" h="120" w="170">class tamaliope {</comment><comment id="Bzc5sUXc8jj{k%]E{,I@" data="2" x="366" y="127" h="120" w="160">name: string</comment><comment id="DT9^3e6`KXNVg!YC#^u9" data="3" x="366" y="127" h="120" w="160">lvl: number = 5</comment><comment id="6:ltO+uT$IsOKKS~2ivq" data="4" x="366" y="127" h="120" w="200">last_used_millis = 0</comment><comment id="S+^|L?outrF$$}JfkD;R" data="5" x="366" y="127" h="120" w="250">last_food_need_millis = 0</comment><comment id="T2-y9t*C.~OgG~ZK;!Ic" data="6" x="366" y="127" h="120" w="160">food_need = 10</comment><comment id=":GdSvbci918S#17eiKz*" data="7" x="366" y="127" h="120" w="260">last_drink_need_millis = 0</comment><comment id="s6D~ZmLZC[I|oAr?P9+d" data="8" x="366" y="127" h="120" w="160">drink_need = 20</comment><comment id="MHSqgMA!CcgLw@hkE6iS" data="9" x="366" y="127" h="120" w="290">last_medicine_need_millis = 0</comment><comment id="-Y;KT`i)C%P:Pdg=r?IV" data="10" x="366" y="127" h="120" w="180">medicine_need = 10</comment><comment id="o~kA90rDP^i4,`1YT%as" data="11" x="366" y="127" h="120" w="250">last_play_need_millis = 0</comment><comment id="rc,CX$/q1,$_ie,:Qrxw" data="12" x="366" y="127" h="120" w="160">play_need = 10</comment><comment id="#jc}/LWKKOM{+Cry]`H^" data="13" x="366" y="127" h="120" w="280">last_hygiene_need_millis = 0</comment><comment id="%:Pj{.k[z2tBi[,TAmNu" data="14" x="366" y="127" h="120" w="180">hygiene_need = 100</comment><comment id="ulu_j,-#qV|!ZeRK/#A_" data="16" x="366" y="127" h="120" w="270">constructor(name: string) {</comment><comment id="(9WtJ:j+KBaq#.S3Pid3" data="17" x="366" y="127" h="120" w="160">this.name = name</comment><comment id="}89=4Z|7/#5o*,#py=`^" data="18" x="366" y="127" h="120" w="160">}</comment><comment id="$4YvF2jLTFMA*ap!7wT(" data="19" x="366" y="127" h="120" w="160">}</comment><comment id="-SEKF!.[T|yi1fGsYJq/" data="20" x="366" y="127" h="120" w="450">input.onButtonPressed(Button.A, function () {</comment><comment id="fAukEny/?O:=V8GTO/%[" data="21" x="366" y="127" h="120" w="330">if (current_mode == modes.FOOD) {</comment><comment id="qAvqrH+rIZOu,d9h$?2Y" data="22" x="366" y="127" h="120" w="260">current_mode = modes.DRINK</comment><comment id="zoa*)X:pQib`g$#`*c0M" data="23" x="366" y="127" h="120" w="260">basic.showString("Drink:")</comment><comment id="*@z+st.1T@aDq1h8O1A4" data="24" x="366" y="127" h="120" w="410">} else if (current_mode == modes.DRINK) {</comment><comment id="SM3[P:V.[hYUkH-:iF%W" data="25" x="366" y="127" h="120" w="280">current_mode = modes.HYGIENE</comment><comment id="iHqJYSp35/lyzZTR(+5/" data="26" x="366" y="127" h="120" w="280">basic.showString("Hygiene:")</comment><comment id="X*b~yj/./_#{CQB5NG}G" data="27" x="366" y="127" h="120" w="430">} else if (current_mode == modes.HYGIENE) {</comment><comment id="!K0v3pX,wrgjk48tX5-~" data="28" x="366" y="127" h="120" w="290">current_mode = modes.MEDICINE</comment><comment id="VA8!BRBMzn)`Kmg,*gOd" data="29" x="366" y="127" h="120" w="290">basic.showString("Medicine:")</comment><comment id="CaXo@9-r_2Y2$kQtl6:n" data="30" x="366" y="127" h="120" w="440">} else if (current_mode == modes.MEDICINE) {</comment><comment id="F`^h2vQodA8[z9HOtPA=" data="31" x="366" y="127" h="120" w="250">current_mode = modes.PLAY</comment><comment id="[;`}%yQDX6hlu7b3BKnQ" data="32" x="366" y="127" h="120" w="250">basic.showString("Play:")</comment><comment id="#z;gD^ito9=^#^mkxK+8" data="33" x="366" y="127" h="120" w="400">} else if (current_mode == modes.PLAY) {</comment><comment id="~J5t0:e+l*5qZJ9-T4$P" data="34" x="366" y="127" h="120" w="250">current_mode = modes.FOOD</comment><comment id="Da*`VvP:dMv4F?$mMvbx" data="35" x="366" y="127" h="120" w="250">basic.showString("Food:")</comment><comment id="o{xKCtEE~.:oGtW[K_#[" data="36" x="366" y="127" h="120" w="160">}</comment><comment id=";[=MY?^8!V7ZDxs@N:m}" data="37" x="366" y="127" h="120" w="160">})</comment><comment id="Jr%P~nLvus}DoF?R3$$~" data="38" x="366" y="127" h="120" w="440">input.onGesture(Gesture.Shake, function () {</comment><comment id=",|}B5k{tOy.,z_k]5@1L" data="39" x="366" y="127" h="120" w="440">//basic.showString("Hoer auf zu schuetteln")</comment><comment id="isI6%Dhdnd)e[plYzj$n" data="40" x="366" y="127" h="120" w="160">})</comment><comment id="jKZd{vU-x%~n*};7s$Dx" data="41" x="366" y="127" h="120" w="370">function display_need(need: number) {</comment><comment id="W$9TQ=i[!qv%lA+@kMP^" data="42" x="366" y="127" h="120" w="160">if (need &gt; 80) {</comment><comment id="/El!nD~p~mwWi4Ssl.bZ" data="43" x="366" y="127" h="120" w="160">basic.showLeds(`</comment><comment id="GT2Rybu4Kf!X0pSU#Q|N" data="44" x="366" y="127" h="120" w="160"># # # # #</comment><comment id="Rgw|l|khl_I|Wu*77QTX" data="45" x="366" y="127" h="120" w="160"># # # # #</comment><comment id="qK%z,#/@!ogIjtE|t`L[" data="46" x="366" y="127" h="120" w="160"># # # # #</comment><comment id="C@q~d+cbqU?}:N$!M)(P" data="47" x="366" y="127" h="120" w="160"># # # # #</comment><comment id=":`r+t%5IZd/H%yz6HDa;" data="48" x="366" y="127" h="120" w="160"># # # # #</comment><comment id="J7F9@!6u-lLdrC0tBh`." data="49" x="366" y="127" h="120" w="160">`)</comment><comment id="YcW!t8.#@7rFC7Y}Yoz:" data="50" x="366" y="127" h="120" w="230">} else if (need &gt; 60) {</comment><comment id="-AXr-ehbRqHpWH+q;I/(" data="51" x="366" y="127" h="120" w="160">basic.showLeds(`</comment><comment id="j-*N^o=`TRf)2=Q/Hv7:" data="52" x="366" y="127" h="120" w="160">. . . . .</comment><comment id="`wOg%^NXe1JD)L}vw?z7" data="53" x="366" y="127" h="120" w="160"># # # # #</comment><comment id="yGgrl2Ph@X@^!;NjocC9" data="54" x="366" y="127" h="120" w="160"># # # # #</comment><comment id="YqT9d05L]c.-?RA,wkQV" data="55" x="366" y="127" h="120" w="160"># # # # #</comment><comment id="-rH#1OLSoa^}25qgBKn|" data="56" x="366" y="127" h="120" w="160"># # # # #</comment><comment id="WLw@Oy,,L;3XVwod3`K." data="57" x="366" y="127" h="120" w="160">`)</comment><comment id="hG,Jn9^Crc)uiqt[bSRV" data="58" x="366" y="127" h="120" w="230">} else if (need &gt; 40) {</comment><comment id="`V.)H)Szyw_v^QDH%3DN" data="59" x="366" y="127" h="120" w="160">basic.showLeds(`</comment><comment id="M@/SA:lh^8KLTw`a3+*d" data="60" x="366" y="127" h="120" w="160">. . . . .</comment><comment id="_sIc%dqYoJq1GoQcbkPU" data="61" x="366" y="127" h="120" w="160">. . . . .</comment><comment id="qDK[p@fSDKUb$fF:DlE^" data="62" x="366" y="127" h="120" w="160"># # # # #</comment><comment id="zmsh;By-ZTFr@dRerkI{" data="63" x="366" y="127" h="120" w="160"># # # # #</comment><comment id="rf9PPQcZg4R0*ND+Mo3," data="64" x="366" y="127" h="120" w="160"># # # # #</comment><comment id="6a+e;LzzNL)2$)Xl|BAJ" data="65" x="366" y="127" h="120" w="160">`)</comment><comment id=":D9|UATMV4f)(DXRpWv-" data="66" x="366" y="127" h="120" w="230">} else if (need &gt; 20) {</comment><comment id="0-HEWMV5zIpSg+T?Cnte" data="67" x="366" y="127" h="120" w="160">basic.showLeds(`</comment><comment id="62IrE[V=H9r${QjhIh88" data="68" x="366" y="127" h="120" w="160">. . . . .</comment><comment id="5|wpo5FG|Y:;S;JZ#gJU" data="69" x="366" y="127" h="120" w="160">. . . . .</comment><comment id="PtXtasszu(X}HZ]6yMW," data="70" x="366" y="127" h="120" w="160">. . . . .</comment><comment id=".trOPt]f$8+kA1+aoHo6" data="71" x="366" y="127" h="120" w="160"># # # # #</comment><comment id="QNN8v*?hfxB%F%5*l2A^" data="72" x="366" y="127" h="120" w="160"># # # # #</comment><comment id="SimSu^=bmVYnp~@T|7xE" data="73" x="366" y="127" h="120" w="160">`)</comment><comment id="{cc=w:HnFqPVTgtqSUIA" data="74" x="366" y="127" h="120" w="220">} else if (need &gt; 0) {</comment><comment id="eAWiu~~Ne7RzCf1Ae@_)" data="75" x="366" y="127" h="120" w="160">basic.showLeds(`</comment><comment id="A@r?HZA/V}#Ma?#cQR*@" data="76" x="366" y="127" h="120" w="160">. . . . .</comment><comment id="PW,JeD`v[_C(0WFKB1TU" data="77" x="366" y="127" h="120" w="160">. . . . .</comment><comment id="}}+7.8p@7+jpsb83A?]3" data="78" x="366" y="127" h="120" w="160">. . . . .</comment><comment id="dJXRpSl_9APS`;;,8V?`" data="79" x="366" y="127" h="120" w="160">. . . . .</comment><comment id="y[c(MK0;6/eN:OLO/@gc" data="80" x="366" y="127" h="120" w="160"># # # # #</comment><comment id="hT6$iM80qDWYQG1E33UG" data="81" x="366" y="127" h="120" w="160">`)</comment><comment id="W4XJ4XxbI_+8aVzx7Oco" data="82" x="366" y="127" h="120" w="230">} else if (need &lt;= 0) {</comment><comment id="`xJ/p?v3Jr%U6*BDCD47" data="83" x="366" y="127" h="120" w="160">basic.showLeds(`</comment><comment id="Bj*kpVdQ*;}d_aqQI|Th" data="84" x="366" y="127" h="120" w="160"># . . . #</comment><comment id="ePaw?Hv*UwF=!PYp;n0q" data="85" x="366" y="127" h="120" w="160">. # . # .</comment><comment id="5DS32GTj2G.4*9e@$w~4" data="86" x="366" y="127" h="120" w="160">. . # . .</comment><comment id="D/:;l0.CcC.[VPJORI`*" data="87" x="366" y="127" h="120" w="160">. # . # .</comment><comment id="6n)_ljEUq7**9qfQ#B^g" data="88" x="366" y="127" h="120" w="160"># . . . #</comment><comment id="c@z@Ql]GTkG+0i)?0R)9" data="89" x="366" y="127" h="120" w="160">`)</comment><comment id="Pgx6/$0;y#oQr]F(0)on" data="90" x="366" y="127" h="120" w="160">}</comment><comment id="@o03_jQGv|$YO$DQzpJ4" data="91" x="366" y="127" h="120" w="160">}</comment><comment id="r6.7j57,WJrpstd`B##z" data="92" x="366" y="127" h="120" w="220">function lvl_check() {</comment><comment id="F~{2a?|;Tphlk-ET?.X]" data="93" x="366" y="127" h="120" w="480">let needs = [flush.food_need, flush.drink_need, flush.hygiene_need, flush.medicine_need, flush.play_need]</comment><comment id="7gf}D;^T.+3|Fx^q$.2," data="94" x="366" y="127" h="120" w="260">let lvl_change: number = 0</comment><comment id="~F2)`HZsLh}9Gg6wmqv|" data="95" x="366" y="127" h="120" w="400">for (let i = 0; i &lt; needs.length; i++) {</comment><comment id="e$Ct?uj-XRA5#5ep4@3_" data="96" x="366" y="127" h="120" w="190">let need = needs[i]</comment><comment id="o^[$G|:QO.4#fz%sZP3q" data="97" x="366" y="127" h="120" w="160">if (need &lt; 50) {</comment><comment id="pr9,:F#@smkV6MK0@mV2" data="98" x="366" y="127" h="120" w="300">lvl_change -= (50 - need) / 50</comment><comment id="MooS$FUC[|Tn2[ZTHggS" data="99" x="366" y="127" h="120" w="160">}</comment><comment id="]%;vx%|zVQJfhF~#gqDh" data="100" x="366" y="127" h="120" w="210">else if (need &gt; 50) {</comment><comment id="#V|RjV6+$+U;..@(vCCX" data="101" x="366" y="127" h="120" w="300">lvl_change += (need - 50) / 50</comment><comment id="[tVt{?q+h+aKasZ}A0JT" data="102" x="366" y="127" h="120" w="160">}</comment><comment id="Bikj*.LGD_68(QS#@+D5" data="103" x="366" y="127" h="120" w="160">}</comment><comment id=".=A0$:t%C=%Qum?HSXwJ" data="104" x="366" y="127" h="120" w="210">if (lvl_change &lt; 0) {</comment><comment id="XV1lu%!Om@4O_o)7QSyk" data="105" x="366" y="127" h="120" w="270">basic.setLedColor(0xff0000)</comment><comment id="w$Puj:;Jo8X!e#2m72Q|" data="106" x="366" y="127" h="120" w="160">}</comment><comment id="}IFdE%$4_6r-,r.7DE.t" data="107" x="366" y="127" h="120" w="260">else if (lvl_change &gt; 1) {</comment><comment id="@vP.v,_`D[NG;cie|Pkx" data="108" x="366" y="127" h="120" w="270">basic.setLedColor(0x00ff00)</comment><comment id="TB:]2[O$g75CoXT=0;dj" data="110" x="366" y="127" h="120" w="160">}</comment><comment id="#bFft/LBI1IpB{R|P_B=" data="111" x="366" y="127" h="120" w="270">else if (lvl_change &gt;= 0) {</comment><comment id="(E)_,tOrL%Fz)r.[P[XH" data="112" x="366" y="127" h="120" w="270">basic.setLedColor(0xffff00)</comment><comment id="TtZ7V`S$t=m#Hhy43z1M" data="113" x="366" y="127" h="120" w="160">}</comment><comment id=")f;,7uw74U)m_9p=N`v{" data="114" x="366" y="127" h="120" w="230">flush.lvl += lvl_change</comment><comment id="7gB_8U;6QCmtQ(D4jEcp" data="115" x="366" y="127" h="120" w="230">_4digit.show(flush.lvl)</comment><comment id="f7^rfY9+{@wj8l]U7nj|" data="116" x="366" y="127" h="120" w="160">}</comment><comment id="}h7u~!M{wWp[L4giwcVL" data="117" x="366" y="127" h="120" w="160">enum modes {</comment><comment id="Mgx%tRIEI|dI_}1#~3Nn" data="118" x="366" y="127" h="120" w="160">FOOD,</comment><comment id="7iK/Bv*yP6?P_?UjTo}Q" data="119" x="366" y="127" h="120" w="160">DRINK,</comment><comment id="fcV9[dH/=%1|+u3lXA!," data="120" x="366" y="127" h="120" w="160">HYGIENE,</comment><comment id="1R;W`.WE1UFZ=p9JIbBn" data="121" x="366" y="127" h="120" w="160">MEDICINE,</comment><comment id="BLoy8pQ1EM#q=K[0.S$U" data="122" x="366" y="127" h="120" w="160">PLAY</comment><comment id="VctO8bq[X4!+s]a)Xk+s" data="123" x="366" y="127" h="120" w="160">}</comment><comment id="VIkoyf$0i?X|0+]lcWg." data="124" x="366" y="127" h="120" w="290">let current_mode = modes.FOOD</comment><comment id="CRDsJJ}}C*87)~{%1o?{" data="126" x="366" y="127" h="120" w="160">_4digit.set(7)</comment><block type="pxt-on-start" id="WGQkOi@sHc#OVy}^6aB@" x="0" y="0"><statement name="HANDLER"><block type="oled96_init_display" id="-;RNx_Z$+(f%mTEs$(ht"><next><block type="oled96_write_string" id="z`bp)$zGV[t(|KV(,GtN"><value name="s"><shadow type="text" id="/6j0f(FU?ILUe2gw+07d"><field name="TEXT">Test</field></shadow></value></block></next></block></statement></block><block type="pxt-on-start" id="oBk}to^%_.B-1U,:4qL$" disabled="true" x="376" y="137"/></xml>